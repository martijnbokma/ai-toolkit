# ai-toolkit

Universal AI toolkit — sync rules, skills, and workflows to **14 AI editors** from a single source of truth.

## Features

- **Single Source of Truth**: Write rules, skills, and workflows once in `.ai-content/`
- **14 Editor Adapters**: Cursor, Windsurf, Claude, Kiro, Trae, Gemini, Copilot, Codex, Aider, Roo, KiloCode, Antigravity, Bolt, Warp
- **Editor-Specific Frontmatter**: Auto-generates correct frontmatter per editor
- **Editor Overrides**: Override shared content for specific editors
- **Entry Points**: Generates `.cursorrules`, `.windsurfrules`, `CLAUDE.md`, `AGENTS.md`, etc.
- **MCP Server Config**: Distributes MCP server settings to supported editors
- **Template Inheritance**: Extend stack templates (nextjs, react, python-api)
- **Dry-Run Mode**: Preview changes without writing files
- **Watch Mode**: Auto-sync on file changes
- **Validation**: Check config and content before syncing
- **Editor Settings**: Generates `.editorconfig` and `.vscode/settings.json`
- **Smart Cleanup**: Removes orphaned auto-generated files
- **Auto .gitignore**: Keeps generated files out of version control

## Quick Start

```bash
# Initialize in your project
bun ai-toolkit init

# Edit your config and add content, then sync
bun ai-toolkit sync

# Preview without writing
bun ai-toolkit sync --dry-run

# Validate config
bun ai-toolkit validate

# Watch for changes
bun ai-toolkit watch
```

## Project Structure

After `init`, your project will have:

```
your-project/
├── ai-toolkit.yaml              # Config — which editors, metadata, tech stack
├── .ai-content/                 # Your content (SSOT)
│   ├── PROJECT.md               # Project context — included in all entry points
│   ├── rules/                   # Project rules → all editors
│   ├── skills/                  # AI skills/commands → all editors
│   ├── workflows/               # Dev workflows → editors that support them
│   └── overrides/               # Editor-specific overrides
│       ├── cursor/
│       ├── claude/
│       └── ...
│
│ # ↓ AUTO-GENERATED by ai-toolkit sync ↓
├── .cursor/rules/
├── .windsurf/rules/
├── .claude/rules/
├── CLAUDE.md
├── .cursorrules
├── .windsurfrules
├── AGENTS.md
└── ...
```

## Configuration

`ai-toolkit.yaml`:

```yaml
version: "1.0"

# Extend a stack template (optional)
extends:
  - stacks/nextjs

editors:
  cursor: true
  windsurf: true
  claude: true
  kiro: false
  trae: false
  gemini: false

metadata:
  name: "My Project"
  description: "A modern web application"

tech_stack:
  language: typescript
  framework: nextjs
  database: supabase

mcp_servers:
  - name: filesystem
    command: npx
    args: ["-y", "@modelcontextprotocol/server-filesystem", "./src"]

settings:
  indent_size: 2
  indent_style: space
  format_on_save: true
```

## Supported Editors

| Editor | Rules | Skills | Workflows | MCP | Entry Point |
|---|---|---|---|---|---|
| **Cursor** | `.cursor/rules/` | `.cursor/commands/` | — | `.cursor/mcp.json` | `.cursorrules` |
| **Windsurf** | `.windsurf/rules/` | `.windsurf/workflows/` | ✓ | — | `.windsurfrules` |
| **Claude** | `.claude/rules/` | `.claude/skills/` | — | `.claude/settings.json` | `CLAUDE.md` |
| **Kiro** | `.kiro/steering/` | `.kiro/specs/workflows/` | ✓ | `.kiro/settings/mcp.json` | — |
| **Trae** | `.trae/rules/` | `.trae/skills/` | — | — | — |
| **Gemini** | `.gemini/rules/` | `.gemini/skills/` | — | — | — |
| **Copilot** | `.github/instructions/` | `.github/instructions/` | — | `.vscode/mcp.json` | `.github/copilot-instructions.md` |
| **Codex** | `.codex/` | `.codex/skills/` | — | — | `AGENTS.md` |
| **Aider** | `.aider/` | — | — | — | `AGENTS.md` |
| **Roo** | `.roo/rules/` | `.roo/skills/` | — | `.roo/mcp.json` | — |
| **KiloCode** | `.kilocode/rules/` | `.kilocode/skills/` | — | `.kilocode/mcp.json` | — |
| **Antigravity** | `.agent/rules/` | `.agent/skills/` | — | — | — |
| **Bolt** | `.bolt/` | — | — | — | `.bolt/prompt` |
| **Warp** | `.warp/rules/` | — | — | — | `WARP.md` |

## Templates

Built-in stack templates for quick setup:

```yaml
extends:
  - stacks/nextjs      # TypeScript, Next.js, Node
  - stacks/react       # TypeScript, React, Node
  - stacks/python-api  # Python, FastAPI
```

Templates set `tech_stack`, `settings`, and `ignore_patterns`. Your project config overrides template values.

## CI/CD Integration

### npm scripts

```json
{
  "scripts": {
    "ai:sync": "bun ai-toolkit sync",
    "ai:validate": "bun ai-toolkit validate",
    "precommit": "bun ai-toolkit sync"
  }
}
```

### GitHub Actions

```yaml
name: AI Toolkit Sync Check
on:
  pull_request:
    paths: ['.ai-content/**', 'ai-toolkit.yaml']
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: oven-sh/setup-bun@v2
      - run: bun install
      - run: bun ai-toolkit sync
      - name: Check for uncommitted changes
        run: |
          if [[ -n $(git status --porcelain) ]]; then
            echo "::error::AI toolkit config is out of sync!"
            echo "Run 'bun ai-toolkit sync' and commit the changes."
            exit 1
          fi
```

## Development

```bash
bun install          # Install dependencies
bun run typecheck    # TypeScript check
bun run test:run     # Run tests
bun run build        # Build for npm publish
```

## License

MIT
