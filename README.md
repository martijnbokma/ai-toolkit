# ai-toolkit

Write rules, skills, and workflows once — sync to **14 AI code editors** automatically.

> **One config. One content folder. Every editor in sync.**

## Why ai-toolkit?

Every AI code editor uses its own config format and directory structure. Keeping them in sync manually is tedious and error-prone. ai-toolkit gives you a **single source of truth** (`.ai-content/`) and distributes content to all your editors with one command.

## Features

- **14 Editor Adapters** — Cursor, Windsurf, Claude Code, Kiro, Trae, Gemini, Copilot, Codex, Aider, Roo, KiloCode, Antigravity, Bolt, Warp
- **Single Source of Truth** — Write rules, skills, and workflows once in `.ai-content/`
- **Project Context** — `PROJECT.md` is auto-included in all entry points
- **Editor Overrides** — Override shared content per editor
- **Entry Points** — Generates `.cursorrules`, `.windsurfrules`, `CLAUDE.md`, `AGENTS.md`, etc.
- **MCP Server Config** — Distributes MCP settings to supported editors
- **Content Sources** — Share rules across projects via local paths or npm packages
- **SSOT Sync** — Auto-promote, diff detection, and orphan cleanup
- **Template Inheritance** — 8 built-in stack templates (Next.js, React, Vue, Svelte, Python, Django, Rails, Go)
- **Built-in Templates** — 7+ skill templates, 14 specialist skills, 4 workflow templates
- **Custom Editors** — Plugin system for unsupported editors
- **Dry-Run Mode** — Preview changes without writing files
- **Watch Mode** — Auto-sync on file changes
- **Validation** — Check config and content before syncing
- **Editor Settings** — Generates `.editorconfig` and `.vscode/settings.json`
- **Smart Cleanup** — Removes orphaned auto-generated files
- **Auto .gitignore** — Keeps generated files out of version control
- **Pre-commit Hook** — Auto-installed during `init`
- **Monorepo Support** — `sync-all` finds and syncs nested projects

## Installation

```bash
# As devDependency (recommended)
bun add -d ai-toolkit

# Or with npm/pnpm
npm install -D ai-toolkit
pnpm add -D ai-toolkit

# Or run directly
bunx ai-toolkit init
```

## Quick Start

```bash
# 1. Initialize
bun ai-toolkit init

# 2. Configure editors in ai-toolkit.yaml, add content to .ai-content/

# 3. Sync to all editors
bun ai-toolkit sync
```

That's it. Your AI editors now read the generated files automatically.

## Project Structure

After `init`, your project will have:

```
your-project/
├── ai-toolkit.yaml              # Config — editors, metadata, tech stack
├── .ai-content/                 # Your content (SSOT)
│   ├── PROJECT.md               # Project context → all entry points
│   ├── rules/                   # Project rules → all editors
│   │   └── project-conventions.md
│   ├── skills/                  # AI skills/commands → all editors
│   │   ├── code-review.md
│   │   ├── debug-assistant.md
│   │   ├── refactor.md
│   │   └── ...
│   ├── workflows/               # Dev workflows → Windsurf, Kiro
│   │   ├── create-prd.md
│   │   ├── generate-tasks.md
│   │   └── ...
│   └── overrides/               # Editor-specific overrides
│       ├── cursor/
│       ├── claude/
│       └── ...
│
│ # ↓ AUTO-GENERATED by `ai-toolkit sync` ↓
├── .cursor/rules/               # Cursor reads these
├── .windsurf/rules/             # Windsurf reads these
├── .claude/rules/               # Claude Code reads these
├── CLAUDE.md                    # Claude Code entry point
├── .cursorrules                 # Cursor entry point
├── .windsurfrules               # Windsurf entry point
├── AGENTS.md                    # Codex/Aider entry point
└── ...
```

## Configuration

`ai-toolkit.yaml`:

```yaml
version: "1.0"

extends:
  - stacks/nextjs                # Template inheritance (optional)

editors:
  cursor: true
  windsurf: true
  claude: true
  kiro: false
  trae: false
  gemini: false
  copilot: false

metadata:
  name: "My Project"
  description: "A modern web application"

tech_stack:
  language: typescript
  framework: nextjs
  database: supabase

mcp_servers:
  - name: filesystem
    command: npx
    args: ["-y", "@modelcontextprotocol/server-filesystem", "./src"]

settings:
  indent_size: 2
  indent_style: space
  format_on_save: true

# Share rules across projects (optional)
content_sources:
  - type: local
    path: ../shared-ai-rules
  - type: package
    name: "@my-org/ai-rules"

# Plugin system for unsupported editors (optional)
custom_editors:
  - name: supermaven
    rules_dir: .supermaven/rules
    skills_dir: .supermaven/skills
    entry_point: SUPERMAVEN.md
```

## Supported Editors

| Editor | Rules | Skills | Workflows | MCP | Entry Point |
|---|---|---|---|---|---|
| **Cursor** | `.cursor/rules/` | `.cursor/commands/` | — | `.cursor/mcp.json` | `.cursorrules` |
| **Windsurf** | `.windsurf/rules/` | `.windsurf/skills/` | ✓ | — | `.windsurfrules` |
| **Claude Code** | `.claude/rules/` | `.claude/skills/` | — | `.claude/settings.json` | `CLAUDE.md` |
| **Kiro** | `.kiro/steering/` | `.kiro/specs/workflows/` | ✓ | `.kiro/settings/mcp.json` | — |
| **Trae** | `.trae/rules/` | `.trae/skills/` | — | — | — |
| **Gemini** | `.gemini/` | — | — | — | `GEMINI.md` |
| **Copilot** | `.github/instructions/` | `.github/instructions/` | — | `.vscode/mcp.json` | `.github/copilot-instructions.md` |
| **Codex** | `.codex/` | `.codex/skills/` | — | — | `AGENTS.md` |
| **Aider** | `.aider/` | — | — | — | `AGENTS.md` |
| **Roo** | `.roo/rules/` | `.roo/skills/` | — | `.roo/mcp.json` | — |
| **KiloCode** | `.kilocode/rules/` | `.kilocode/skills/` | — | `.kilocode/mcp.json` | — |
| **Antigravity** | `.agent/rules/` | `.agent/skills/` | — | — | — |
| **Bolt** | `.bolt/` | — | — | — | `.bolt/prompt` |
| **Warp** | `.warp/rules/` | — | — | — | `WARP.md` |
| **Replit** | `.replit/` | — | — | — | `replit.md` |
| **Cline** | `.clinerules/` | — | — | — | — |
| **Amazon Q** | `.amazonq/rules/` | — | — | `.amazonq/default.json` | — |
| **Junie** | `.junie/` | — | — | — | `.junie/guidelines.md` |
| **Augment** | `.augment/rules/` | — | — | — | — |
| **Zed** | `.zed/rules/` | — | — | — | `.rules` |
| **Continue** | `.continue/rules/` | — | — | — | — |

## Built-in Templates

### Stack Templates

Extend a stack to get pre-configured `tech_stack`, `settings`, and `ignore_patterns`:

```yaml
extends:
  - stacks/nextjs
```

| Template | Language | Framework | Indent |
|---|---|---|---|
| `stacks/nextjs` | TypeScript | Next.js | 2 spaces |
| `stacks/react` | TypeScript | React | 2 spaces |
| `stacks/vue` | TypeScript | Vue | 2 spaces |
| `stacks/svelte` | TypeScript | SvelteKit | 2 spaces |
| `stacks/python-api` | Python | FastAPI | 4 spaces |
| `stacks/django` | Python | Django | 4 spaces |
| `stacks/rails` | Ruby | Rails | 2 spaces |
| `stacks/go-api` | Go | Gin | tabs |

### Skill Templates

Copied to `.ai-content/skills/` during `init`:

| Skill | Description |
|---|---|
| `code-review.md` | Structured code review with checklist |
| `debug-assistant.md` | Step-by-step debugging |
| `finding-refactor-candidates.md` | Identify refactoring opportunities |
| `refactor.md` | Refactor without changing functionality |
| `verifying-responsiveness.md` | Verify responsive design |
| `framework-discovery.md` | Discover framework patterns |
| `incremental-development.md` | Build features incrementally |

### Specialist Skills

14 role-based specialist skills in `skills/specialists/`:

`accessibility-specialist` · `api-designer` · `backend-developer` · `database-specialist` · `devops-engineer` · `frontend-developer` · `fullstack-developer` · `performance-specialist` · `qa-tester` · `security-specialist` · `technical-writer` · `typescript-specialist` · `ui-designer` · `ux-designer`

### Workflow Templates

Copied to `.ai-content/workflows/` during `init`:

| Workflow | Description |
|---|---|
| `create-prd.md` | Create a Product Requirements Document |
| `generate-tasks.md` | Generate tasks from a PRD |
| `implementation-loop.md` | Iterative implementation workflow |
| `refactor-prd.md` | PRD for a refactoring project |

## Content Sources

Share rules, skills, and workflows across multiple projects:

```yaml
content_sources:
  # Local path (monorepo or same machine)
  - type: local
    path: ../shared-ai-rules
    include: [rules, skills]       # optional filter

  # npm package
  - type: package
    name: "@my-org/ai-rules"
```

Local content always takes priority over shared content. New local files are auto-promoted to the SSOT during sync. Diffs between local and SSOT are detected with interactive prompts.

## CLI Commands

| Command | Description |
|---|---|
| `ai-toolkit init` | Initialize project (config, content dirs, scripts, pre-commit hook) |
| `ai-toolkit init --force` | Reinitialize (overwrites existing config) |
| `ai-toolkit sync` | Sync content to all enabled editors |
| `ai-toolkit sync --dry-run` | Preview what would change |
| `ai-toolkit validate` | Validate config and content |
| `ai-toolkit watch` | Auto-sync on file changes |
| `ai-toolkit sync-all` | Sync all projects in a monorepo |
| `ai-toolkit sync-all --dry-run` | Preview monorepo sync |
| `ai-toolkit promote <file>` | Promote a local file to the shared SSOT |
| `ai-toolkit promote <file> --force` | Promote and overwrite existing |

## CI/CD Integration

### npm scripts (auto-added by `init`)

```json
{
  "scripts": {
    "sync": "ai-toolkit sync",
    "sync:dry": "ai-toolkit sync --dry-run",
    "sync:watch": "ai-toolkit watch"
  }
}
```

### GitHub Actions

```yaml
name: AI Toolkit Sync Check
on:
  pull_request:
    paths: ['.ai-content/**', 'ai-toolkit.yaml']
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: oven-sh/setup-bun@v2
      - run: bun install
      - run: bun ai-toolkit sync
      - name: Check for uncommitted changes
        run: |
          if [[ -n $(git status --porcelain) ]]; then
            echo "::error::AI toolkit config is out of sync!"
            echo "Run 'bun ai-toolkit sync' and commit the changes."
            exit 1
          fi
```

## Development

```bash
bun install          # Install dependencies
bun run typecheck    # TypeScript check
bun run test:run     # Run tests
bun run build        # Build for npm publish
```

## Documentation

See [docs/GUIDE.md](docs/GUIDE.md) for the full guide covering all features in detail.

## License

MIT
